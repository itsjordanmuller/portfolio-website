---
import Layout from "../layouts/Layout.astro";
import TagList from "../components/Utilities/TagList.astro";
import Resource from "../components/Resource.astro";
import { getCollection } from "astro:content";

const allResources = await getCollection("resources");
const uniqueTags = [...new Set(allResources.map((resource) => resource.data.tags).flat())];

const pageTitle = "Resources - Jordan Muller";
const description =
	"Curious about my professional credentials and qualifications? On my Resources page, I showcase my achievements including my current certifications & resume.";
---

<Layout pageTitle={pageTitle} description={description}>
	<section
		class="lg-px-[6rem] container prose max-w-none bg-base-200 px-[2rem] py-10 sm:px-[5rem] md:px-[9rem] lg:px-[8rem] xl:px-[10rem] 2xl:px-[14rem]"
		data-pagefind-ignore="all"
	>
		<h1 class="mb-1 text-center">Resources & Documents</h1>
		<p class="mt-1 text-center leading-[32px]">
			<span class="px-1">All Resources</span>
		</p>
		<div class="card bg-base-300 p-4">
			<p class="my-0 text-center font-bold leading-[30px]">Filter Resources by Tag</p>
			<TagList tags={uniqueTags} contentType="resources" />
		</div>
		<hr />
		<ul class="mt-12 grid w-full grid-cols-1 gap-8 pl-0 md:grid-cols-2 lg:grid-cols-3">
			{
				allResources.map((resource) => (
					<Resource
						title={resource.data.title}
						description={resource.data.description}
						url={`/resources/${resource.slug}/`}
						images={resource.data.images}
						type={resource.data.type}
					/>
				))
			}
		</ul>
	</section>
</Layout>
